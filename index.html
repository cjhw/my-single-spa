<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="lib/umd/my-single-spa.js"></script>
    <script>
      singleSpa.registerApplication(
        'app1',
        async (props) => {
          console.log('加载1时调用')
          return {
            bootstrap: [
              async (props) => {
                console.log('bootstrap1')
              },
              async (props) => {
                console.log('bootstrap1')
              },
              async (props) => {
                console.log('bootstrap1')
              },
            ],
            mount: async (props) => {
              console.log('mount1')
            },
            unmount: async (props) => {
              console.log('unmount1')
            },
          }
        },
        (location) => location.hash.startsWith('#/app1'),
        { store: { name: 'cai', age: 18 } }
      )

      singleSpa.registerApplication(
        'appName2',
        async (props) => {
          console.log('加载2时调用')
          return {
            bootstrap: async (props) => {
              console.log('bootstrap2')
            },
            mount: async (props) => {
              console.log('mount2')
            },
            unmount: async (props) => {
              console.log('unmount2')
            },
          }
        },
        (location) => location.hash.startsWith('#/app2'),
        {
          store: { a: 2 },
        }
      )

      singleSpa.start()
    </script>
  </body>
</html>
